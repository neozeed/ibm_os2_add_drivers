


        include  iorbtype.inc

DM_WORKSPACE_SIZE	EQU	20 
ADD_WORKSPACE_SIZE	EQU	16 

IORBH	STRUC
IOH_Length	DW	?
IOH_UnitHandle	DW	?
IOH_CommandCode	DW	?
IOH_CommandModifier	DW	?
IOH_RequestControl	DW	?
IOH_Status	DW	?
IOH_ErrorCode	DW	?
IOH_Timeout	DD	?
IOH_StatusBlockLen	DW	?
IOH_pStatusBlock	DB	SIZE NPBYTE DUP (?)
IOH_Reserved_1	DW	?
IOH_pNxtIORB	DD	?
IOH_NotifyAddress	DD	?
IOH_DMWorkSpace	DB	DM_WORKSPACE_SIZE DUP (?)
IOH_ADDWorkSpace	DB	ADD_WORKSPACE_SIZE DUP (?)
IORBH	ENDS
IOCC_CONFIGURATION	EQU	0001H   
IOCM_GET_DEVICE_TABLE	EQU	0001H   
IOCM_COMPLETE_INIT	EQU	0002H   
IOCC_UNIT_CONTROL	EQU	0002H   
IOCM_ALLOCATE_UNIT	EQU	0001H   
IOCM_DEALLOCATE_UNIT	EQU	0002H   
IOCM_CHANGE_UNITINFO	EQU	0003H   
IOCC_GEOMETRY	EQU	0003H   
IOCM_GET_MEDIA_GEOMETRY	EQU	0001H   
IOCM_SET_MEDIA_GEOMETRY	EQU	0002H   
IOCM_GET_DEVICE_GEOMETRY	EQU	0003H   
IOCM_SET_LOGICAL_GEOMETRY	EQU	0004H   
IOCC_EXECUTE_IO	EQU	0004H   
IOCM_READ	EQU	0001H   
IOCM_READ_VERIFY	EQU	0002H   
IOCM_READ_PREFETCH	EQU	0003H   
IOCM_WRITE	EQU	0004H   
IOCM_WRITE_VERIFY	EQU	0005H   
IOCC_FORMAT	EQU	0005H   
IOCM_FORMAT_MEDIA	EQU	0001H   
IOCM_FORMAT_TRACK	EQU	0002H   
IOCM_FORMAT_PROGRESS	EQU	0003H   
IOCC_UNIT_STATUS	EQU	0006H   
IOCM_GET_UNIT_STATUS	EQU	0001H   
IOCM_GET_CHANGELINE_STATE	EQU	0002H   
IOCM_GET_MEDIA_SENSE	EQU	0003H   
IOCC_DEVICE_CONTROL	EQU	0007H   
IOCM_ABORT	EQU	0001H   
IOCM_RESET	EQU	0002H   
IOCM_SUSPEND	EQU	0003H   
IOCM_RESUME	EQU	0004H   
IOCM_LOCK_MEDIA	EQU	0005H   
IOCM_UNLOCK_MEDIA	EQU	0006H   
IOCC_ADAPTER_PASSTHRU	EQU	0008H   
IOCM_EXECUTE_SCB	EQU	0001H   
IOCM_EXECUTE_CDB	EQU	0002H   
MAX_IOCC_COMMAND	EQU	IOCC_ADAPTER_PASSTHRU
IORB_DONE	EQU	0001H   
IORB_ERROR	EQU	0002H   
IORB_RECOV_ERROR	EQU	0004H   
IORB_STATUSBLOCK_AVAIL	EQU	0008H   
IOERR_RETRY	EQU	8000H 
IOERR_CMD	EQU	0100H 
IOERR_CMD_NOT_SUPPORTED	EQU	IOERR_CMD+1 
IOERR_CMD_SYNTAX	EQU	IOERR_CMD+2 
IOERR_CMD_SGLIST_BAD	EQU	IOERR_CMD+3 
IOERR_CMD_SW_RESOURCE	EQU	IOERR_CMD+IOERR_RETRY+4 
IOERR_CMD_ABORTED	EQU	IOERR_CMD+5 
IOERR_CMD_ADD_SOFTWARE_FAILURE	EQU	IOERR_CMD+6 
IOERR_CMD_OS_SOFTWARE_FAILURE	EQU	IOERR_CMD+7 
IOERR_UNIT	EQU	0200H 
IOERR_UNIT_NOT_ALLOCATED	EQU	IOERR_UNIT+1 
IOERR_UNIT_ALLOCATED	EQU	IOERR_UNIT+2 
IOERR_UNIT_NOT_READY	EQU	IOERR_UNIT+3 
IOERR_UNIT_PWR_OFF	EQU	IOERR_UNIT+4 
IOERR_RBA	EQU	0300H 
IOERR_RBA_ADDRESSING_ERROR	EQU	IOERR_RBA+IOERR_RETRY+1 
IOERR_RBA_LIMIT	EQU	IOERR_RBA+2 
IOERR_RBA_CRC_ERROR	EQU	IOERR_RBA+IOERR_RETRY+3 
IOERR_MEDIA	EQU	0400H 
IOERR_MEDIA_NOT_FORMATTED	EQU	IOERR_MEDIA+1 
IOERR_MEDIA_NOT_SUPPORTED	EQU	IOERR_MEDIA+2 
IOERR_MEDIA_WRITE_PROTECT	EQU	IOERR_MEDIA+3 
IOERR_MEDIA_CHANGED	EQU	IOERR_MEDIA+4 
IOERR_MEDIA_NOT_PRESENT	EQU	IOERR_MEDIA+5 
IOERR_ADAPTER	EQU	0500H 
IOERR_ADAPTER_HOSTBUSCHECK	EQU	IOERR_ADAPTER+1 
IOERR_ADAPTER_DEVICEBUSCHECK	EQU	IOERR_ADAPTER+IOERR_RETRY+2 
IOERR_ADAPTER_OVERRUN	EQU	IOERR_ADAPTER+IOERR_RETRY+3 
IOERR_ADAPTER_UNDERRUN	EQU	IOERR_ADAPTER+IOERR_RETRY+4 
IOERR_ADAPTER_DIAGFAIL	EQU	IOERR_ADAPTER+5 
IOERR_ADAPTER_TIMEOUT	EQU	IOERR_ADAPTER+IOERR_RETRY+6 
IOERR_ADAPTER_DEVICE_TIMEOUT	EQU	IOERR_ADAPTER+IOERR_RETRY+7 
IOERR_ADAPTER_REQ_NOT_SUPPORTED	EQU	IOERR_ADAPTER+8 
IOERR_ADAPTER_REFER_TO_STATUS	EQU	IOERR_ADAPTER+9 
IOERR_ADAPTER_NONSPECIFIC	EQU	IOERR_ADAPTER+10 
IOERR_DEVICE	EQU	0600H 
IOERR_DEVICE_DEVICEBUSCHECK	EQU	IOERR_DEVICE+IOERR_RETRY+1 
IOERR_DEVICE_REQ_NOT_SUPPORTED	EQU	IOERR_DEVICE+2 
IOERR_DEVICE_DIAGFAIL	EQU	IOERR_DEVICE+3 
IOERR_DEVICE_BUSY	EQU	IOERR_DEVICE+IOERR_RETRY+4 
IOERR_DEVICE_OVERRUN	EQU	IOERR_DEVICE+IOERR_RETRY+5 
IOERR_DEVICE_UNDERRUN	EQU	IOERR_DEVICE+IOERR_RETRY+6 
IOERR_DEVICE_RESET	EQU	IOERR_DEVICE+7 
IOERR_DEVICE_NONSPECIFIC	EQU	IOERR_DEVICE+8 
IORB_ASYNC_POST	EQU	0001H    
IORB_CHAIN	EQU	0002H    
IORB_CHS_ADDRESSING	EQU	0004H    
IORB_REQ_STATUSBLOCK	EQU	0008H    
IORB_DISABLE_RETRY	EQU	0010H    

IORB_CONFIGURATION	STRUC
IOCFG_iorbh	DB	SIZE IORBH DUP (?)
IOCFG_pDeviceTable	DD	?
IOCFG_DeviceTableLen	DW	?
IORB_CONFIGURATION	ENDS

DEVICETABLE	STRUC
IODT_ADDLevelMajor	DB	?
IODT_ADDLevelMinor	DB	?
IODT_ADDHandle	DW	?
IODT_TotalAdapters	DW	?
IODT_pAdapter	DW	1 DUP (?)
DEVICETABLE	ENDS
ADD_LEVEL_MAJOR	EQU	01H 
ADD_LEVEL_MINOR	EQU	00H 

UNITINFO	STRUC
IOUI_AdapterIndex	DW	?
IOUI_UnitIndex	DW	?
IOUI_UnitFlags	DW	?
IOUI_Reserved	DW	?
IOUI_UnitHandle	DW	?
IOUI_FilterADDHandle	DW	?
IOUI_UnitType	DW	?
IOUI_QueuingCount	DW	?
IOUI_UnitSCSITargetID	DB	?
IOUI_UnitSCSILUN	DB	?
UNITINFO	ENDS
UF_REMOVABLE	EQU	0001H          
UF_CHANGELINE	EQU	0002H          
UF_PREFETCH	EQU	0004H          
UF_A_DRIVE	EQU	0008H          
UF_B_DRIVE	EQU	0010H          
UF_NODASD_SUPT	EQU	0020H          
UF_NOSCSI_SUPT	EQU	0040H          
UF_DEFECTIVE	EQU	0080H          
UIB_TYPE_DISK	EQU	0000H      
UIB_TYPE_TAPE	EQU	0001H      
UIB_TYPE_PRINTER	EQU	0002H      
UIB_TYPE_PROCESSOR	EQU	0003H      
UIB_TYPE_WORM	EQU	0004H      
UIB_TYPE_CDROM	EQU	0005H      
UIB_TYPE_SCANNER	EQU	0006H      
UIB_TYPE_OPTICAL_MEMORY	EQU	0007H  
UIB_TYPE_CHANGER	EQU	0008H      
UIB_TYPE_COMM	EQU	0009H      

ADAPTERINFO	STRUC
IOAI_AdapterName	DB	17 DUP (?)
IOAI_Reserved	DB	?
IOAI_AdapterUnits	DW	?
IOAI_AdapterDevBus	DW	?
IOAI_AdapterIOAccess	DB	?
IOAI_AdapterHostBus	DB	?
IOAI_AdapterSCSITargetID	DB	?
IOAI_AdapterSCSILUN	DB	?
IOAI_AdapterFlags	DW	?
IOAI_MaxHWSGList	DW	?
IOAI_MaxCDBTransferLength	DD	?
IOAI_UnitInfo	DB	SIZE UNITINFO * 1 DUP (?)
ADAPTERINFO	ENDS
AF_16M	EQU	0001H          
AF_IBM_SCB	EQU	0002H          
AF_HW_SCATGAT	EQU	0004H          
AF_CHS_ADDRESSING	EQU	0008H          
AI_DEVBUS_OTHER	EQU	0000H 
AI_DEVBUS_ST506	EQU	0001H  
AI_DEVBUS_ST506_II	EQU	0002H  
AI_DEVBUS_ESDI	EQU	0003H  
AI_DEVBUS_FLOPPY	EQU	0004H  
AI_DEVBUS_SCSI_1	EQU	0005H 
AI_DEVBUS_SCSI_2	EQU	0006H 
AI_DEVBUS_SCSI_3	EQU	0007H 
AI_DEVBUS_FAST_SCSI	EQU	0100H 
AI_DEVBUS_8BIT	EQU	0200H 
AI_DEVBUS_16BIT	EQU	0400H 
AI_DEVBUS_32BIT	EQU	0800H 
AI_IOACCESS_OTHER	EQU	00H 
AI_IOACCESS_BUS_MASTER	EQU	01H 
AI_IOACCESS_PIO	EQU	02H 
AI_IOACCESS_DMA_SLAVE	EQU	04H 
AI_IOACCESS_MEMORY_MAP	EQU	08H 
AI_HOSTBUS_OTHER	EQU	00H 
AI_HOSTBUS_ISA	EQU	01H 
AI_HOSTBUS_EISA	EQU	02H 
AI_HOSTBUS_uCHNL	EQU	03H 
AI_HOSTBUS_UNKNOWN	EQU	0fH 
AI_BUSWIDTH_8BIT	EQU	10H 
AI_BUSWIDTH_16BIT	EQU	20H 
AI_BUSWIDTH_32BIT	EQU	30H 
AI_BUSWIDTH_64BIT	EQU	40H 
AI_BUSWIDTH_UNKNOWN	EQU	0f0H 

IORB_UNIT_CONTROL	STRUC
IOUC_iorbh	DB	SIZE IORBH DUP (?)
IOUC_Flags	DW	?
IOUC_pUnitInfo	DD	?
IOUC_UnitInfoLen	DW	?
IORB_UNIT_CONTROL	ENDS

IORB_GEOMETRY	STRUC
IOGG_iorbh	DB	SIZE IORBH DUP (?)
IOGG_pGeometry	DD	?
IOGG_GeometryLen	DW	?
IORB_GEOMETRY	ENDS

GEOMETRY	STRUC
IOG_TotalSectors	DD	?
IOG_BytesPerSector	DW	?
IOG_Reserved	DW	?
IOG_NumHeads	DW	?
IOG_TotalCylinders	DD	?
IOG_SectorsPerTrack	DW	?
GEOMETRY	ENDS

SCATGATENTRY	STRUC
IOSG_ppXferBuf	DD	?
IOSG_XferBufLen	DD	?
SCATGATENTRY	ENDS
MAXSGLISTSIZE	EQU	(SIZE   SCATGATENTRY ) * 16 

IORB_EXECUTEIO	STRUC
IOXIO_iorbh	DB	SIZE IORBH DUP (?)
IOXIO_cSGList	DW	?
IOXIO_pSGList	DD	?
IOXIO_ppSGList	DD	?
IOXIO_RBA	DD	?
IOXIO_BlockCount	DW	?
IOXIO_BlocksXferred	DW	?
IOXIO_BlockSize	DW	?
IOXIO_Flags	DW	?
IORB_EXECUTEIO	ENDS

CHS_ADDR	STRUC
IOCHS_Cylinder	DW	?
IOCHS_Head	DB	?
IOCHS_Sector	DB	?
CHS_ADDR	ENDS
XIO_DISABLE_HW_WRITE_CACHE	EQU	0001H 
XIO_DISABLE_HW_READ_CACHE	EQU	0002H 

IORB_FORMAT	STRUC
IOFMT_iorbh	DB	SIZE IORBH DUP (?)
IOFMT_cSGList	DW	?
IOFMT_pSGList	DD	?
IOFMT_ppSGList	DD	?
IOFMT_FormatCmdLen	DW	?
IOFMT_pFormatCmd	DB	SIZE PBYTE DUP (?)
IOFMT_Reserved_1	DB	8 DUP (?)
IORB_FORMAT	ENDS

FORMAT_CMD_TRACK	STRUC
FMCT_Flags	DW	?
FMCT_RBA	DD	?
FMCT_cTrackEntries	DW	?
FORMAT_CMD_TRACK	ENDS
FF_VERIFY	EQU	0001H           

IORB_ADAPTER_PASSTHRU	STRUC
IOPT_iorbh	DB	SIZE IORBH DUP (?)
IOPT_cSGList	DW	?
IOPT_pSGList	DD	?
IOPT_ppSGLIST	DD	?
IOPT_ControllerCmdLen	DW	?
IOPT_pControllerCmd	DB	SIZE PBYTE DUP (?)
IOPT_ppSCB	DD	?
IOPT_Flags	DW	?
IORB_ADAPTER_PASSTHRU	ENDS
PT_DIRECTION_IN	EQU	0001H            

IORB_UNIT_STATUS	STRUC
IOUS_iorbh	DB	SIZE IORBH DUP (?)
IOUS_UnitStatus	DW	?
IORB_UNIT_STATUS	ENDS
US_READY	EQU	0001H           
US_POWER	EQU	0002H           
US_DEFECTIVE	EQU	0004H           
US_CHANGELINE_ACTIVE	EQU	0001H           
US_MEDIA_UNKNOWN	EQU	0000H           
US_MEDIA_720KB	EQU	0001H           
US_MEDIA_144MB	EQU	0002H           
US_MEDIA_288MB	EQU	0003H           

IORB_DEVICE_CONTROL	STRUC
IODC_iorbh	DB	SIZE IORBH DUP (?)
IODC_Flags	DW	?
IODC_Reserved	DW	?
IORB_DEVICE_CONTROL	ENDS
DC_SUSPEND_DEFERRED	EQU	0000H           
DC_SUSPEND_IMMEDIATE	EQU	0001H           
MAX_IORB_SIZE	EQU	128 
